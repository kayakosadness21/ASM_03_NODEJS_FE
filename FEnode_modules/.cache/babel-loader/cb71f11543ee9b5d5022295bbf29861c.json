{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ADMIN\\\\Documents\\\\Project3nodejs20.1.24\\\\frontend\\\\FE-ecommerce\\\\src\\\\components\\\\products\\\\product-detail.js\",\n  _s = $RefreshSig$();\nimport { useRef, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport InputOrderedProducts from \"../UI/InputOrderedProducts\";\nimport classes from \"./product-detail.module.css\";\n// import { saveToLocalStore } from \"../../store/cart-reducer\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ProductDetail = props => {\n  _s();\n  const product = props.product;\n  // console.log(\"CHECK PROPS produtt: \", product);\n  const [img, setImg] = useState(0);\n  const quantityRef = useRef();\n\n  // using redux to add product to cart\n  const dispatch = useDispatch();\n\n  // handle onClick small image\n  const changeImageHandler = e => {\n    setImg(e.target.dataset.img);\n  };\n\n  // format feature of product\n  let featureArr = [];\n  if (product.long_desc.includes(\"•\")) {\n    featureArr = product.long_desc.split(\"•\");\n  } else {\n    featureArr = product.long_desc.split(\"-\");\n  }\n  const featureHead = /*#__PURE__*/_jsxDEV(\"p\", {\n    children: featureArr.shift()\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 23\n  }, this);\n  const features = featureArr.map(item => /*#__PURE__*/_jsxDEV(\"p\", {\n    children: [\"- \", item]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 45\n  }, this));\n\n  // handle \"Add to Cart\"\n  const addToCartHandler = () => {\n    dispatch({\n      type: \"ADD_CART\",\n      value: {\n        quantity: +quantityRef.current.dataset.value,\n        product: product\n      }\n    });\n  };\n  // get path image\n  const pathImage = product !== null && product !== void 0 && product.images[img].includes(\"/images/multiple_images\") ? process.env.REACT_APP_DOMAIN + product.images[img] : product.images[img];\n  const smallImg = product === null || product === void 0 ? void 0 : product.images.map((img, index) => {\n    const pathImage = img.includes(\"/images/multiple_images\") ? process.env.REACT_APP_DOMAIN + img : img;\n    return /*#__PURE__*/_jsxDEV(\"img\", {\n      src: pathImage,\n      onClick: changeImageHandler,\n      \"data-img\": index,\n      alt: product.name\n    }, index, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this);\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes[\"detail-container\"],\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.image,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.large,\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            className: classes.img1,\n            src: pathImage,\n            alt: product.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.small,\n          children: smallImg\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.content,\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: classes.title,\n          children: product.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.price,\n          children: [new Intl.NumberFormat(\"vi\").format(product.price), \" VND\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: classes.desc,\n          children: product.short_desc\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.category,\n          children: [\"CATEGORY: \", /*#__PURE__*/_jsxDEV(\"span\", {\n            children: product.category\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 23\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes[\"add-to-cart\"],\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"QUANTITY\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(InputOrderedProducts, {\n            ref: quantityRef,\n            quantity: 1\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: addToCartHandler,\n            children: \"Add to cart\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.feature,\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        children: \"DESCRIPTION\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.description,\n        children: \"PRODUCT DESCRIPTION\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes[\"description-feature\"],\n        children: [featureHead, features]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(ProductDetail, \"XCfrW+v0rVof9ffPCNdamxylkiw=\", false, function () {\n  return [useDispatch];\n});\n_c = ProductDetail;\nexport default ProductDetail;\nvar _c;\n$RefreshReg$(_c, \"ProductDetail\");","map":{"version":3,"names":["useRef","useState","useDispatch","InputOrderedProducts","classes","ProductDetail","props","product","img","setImg","quantityRef","dispatch","changeImageHandler","e","target","dataset","featureArr","long_desc","includes","split","featureHead","shift","features","map","item","addToCartHandler","type","value","quantity","current","pathImage","images","process","env","REACT_APP_DOMAIN","smallImg","index","name","image","large","img1","small","content","title","price","Intl","NumberFormat","format","desc","short_desc","category","feature","description"],"sources":["C:/Users/ADMIN/Documents/Project3nodejs20.1.24/frontend/FE-ecommerce/src/components/products/product-detail.js"],"sourcesContent":["import { useRef, useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport InputOrderedProducts from \"../UI/InputOrderedProducts\";\r\nimport classes from \"./product-detail.module.css\";\r\n// import { saveToLocalStore } from \"../../store/cart-reducer\";\r\n\r\nconst ProductDetail = (props) => {\r\n  const product = props.product;\r\n  // console.log(\"CHECK PROPS produtt: \", product);\r\n  const [img, setImg] = useState(0);\r\n\r\n  const quantityRef = useRef();\r\n\r\n  // using redux to add product to cart\r\n  const dispatch = useDispatch();\r\n\r\n  // handle onClick small image\r\n  const changeImageHandler = (e) => {\r\n    setImg(e.target.dataset.img);\r\n  };\r\n\r\n  // format feature of product\r\n  let featureArr = [];\r\n  if (product.long_desc.includes(\"•\")) {\r\n    featureArr = product.long_desc.split(\"•\");\r\n  } else {\r\n    featureArr = product.long_desc.split(\"-\");\r\n  }\r\n  const featureHead = <p>{featureArr.shift()}</p>;\r\n  const features = featureArr.map((item) => <p>- {item}</p>);\r\n\r\n  // handle \"Add to Cart\"\r\n  const addToCartHandler = () => {\r\n    dispatch({\r\n      type: \"ADD_CART\",\r\n      value: { quantity: +quantityRef.current.dataset.value, product: product },\r\n    });\r\n  };\r\n  // get path image\r\n  const pathImage = product?.images[img].includes(\"/images/multiple_images\")\r\n    ? process.env.REACT_APP_DOMAIN + product.images[img]\r\n    : product.images[img];\r\n\r\n  const smallImg = product?.images.map((img, index) => {\r\n    const pathImage = img.includes(\"/images/multiple_images\")\r\n      ? process.env.REACT_APP_DOMAIN + img\r\n      : img;\r\n    return (\r\n      <img\r\n        key={index}\r\n        src={pathImage}\r\n        onClick={changeImageHandler}\r\n        data-img={index}\r\n        alt={product.name}\r\n      />\r\n    );\r\n  });\r\n  return (\r\n    <>\r\n      <div className={classes[\"detail-container\"]}>\r\n        {/* Image of product */}\r\n        <div className={classes.image}>\r\n          <div className={classes.large}>\r\n            <img className={classes.img1} src={pathImage} alt={product.name} />\r\n          </div>\r\n          <div className={classes.small}>{smallImg}</div>\r\n        </div>\r\n        {/* Content of product */}\r\n        <div className={classes.content}>\r\n          <h2 className={classes.title}>{product.name}</h2>\r\n          <div className={classes.price}>\r\n            {new Intl.NumberFormat(\"vi\").format(product.price)} VND\r\n          </div>\r\n          <p className={classes.desc}>{product.short_desc}</p>\r\n          <div className={classes.category}>\r\n            CATEGORY: <span>{product.category}</span>\r\n          </div>\r\n          <div className={classes[\"add-to-cart\"]}>\r\n            <label>QUANTITY</label>\r\n            <InputOrderedProducts ref={quantityRef} quantity={1} />\r\n            <button onClick={addToCartHandler}>Add to cart</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className={classes.feature}>\r\n        <button>DESCRIPTION</button>\r\n        <div className={classes.description}>PRODUCT DESCRIPTION</div>\r\n        <div className={classes[\"description-feature\"]}>\r\n          {featureHead}\r\n          {features}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ProductDetail;\r\n"],"mappings":";;AAAA,SAASA,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AACxC,SAASC,WAAW,QAAQ,aAAa;AACzC,OAAOC,oBAAoB,MAAM,4BAA4B;AAC7D,OAAOC,OAAO,MAAM,6BAA6B;AACjD;AAAA;AAAA;AAEA,MAAMC,aAAa,GAAIC,KAAK,IAAK;EAAA;EAC/B,MAAMC,OAAO,GAAGD,KAAK,CAACC,OAAO;EAC7B;EACA,MAAM,CAACC,GAAG,EAAEC,MAAM,CAAC,GAAGR,QAAQ,CAAC,CAAC,CAAC;EAEjC,MAAMS,WAAW,GAAGV,MAAM,EAAE;;EAE5B;EACA,MAAMW,QAAQ,GAAGT,WAAW,EAAE;;EAE9B;EACA,MAAMU,kBAAkB,GAAIC,CAAC,IAAK;IAChCJ,MAAM,CAACI,CAAC,CAACC,MAAM,CAACC,OAAO,CAACP,GAAG,CAAC;EAC9B,CAAC;;EAED;EACA,IAAIQ,UAAU,GAAG,EAAE;EACnB,IAAIT,OAAO,CAACU,SAAS,CAACC,QAAQ,CAAC,GAAG,CAAC,EAAE;IACnCF,UAAU,GAAGT,OAAO,CAACU,SAAS,CAACE,KAAK,CAAC,GAAG,CAAC;EAC3C,CAAC,MAAM;IACLH,UAAU,GAAGT,OAAO,CAACU,SAAS,CAACE,KAAK,CAAC,GAAG,CAAC;EAC3C;EACA,MAAMC,WAAW,gBAAG;IAAA,UAAIJ,UAAU,CAACK,KAAK;EAAE;IAAA;IAAA;IAAA;EAAA,QAAK;EAC/C,MAAMC,QAAQ,GAAGN,UAAU,CAACO,GAAG,CAAEC,IAAI,iBAAK;IAAA,iBAAMA,IAAI;EAAA;IAAA;IAAA;IAAA;EAAA,QAAK,CAAC;;EAE1D;EACA,MAAMC,gBAAgB,GAAG,MAAM;IAC7Bd,QAAQ,CAAC;MACPe,IAAI,EAAE,UAAU;MAChBC,KAAK,EAAE;QAAEC,QAAQ,EAAE,CAAClB,WAAW,CAACmB,OAAO,CAACd,OAAO,CAACY,KAAK;QAAEpB,OAAO,EAAEA;MAAQ;IAC1E,CAAC,CAAC;EACJ,CAAC;EACD;EACA,MAAMuB,SAAS,GAAGvB,OAAO,aAAPA,OAAO,eAAPA,OAAO,CAAEwB,MAAM,CAACvB,GAAG,CAAC,CAACU,QAAQ,CAAC,yBAAyB,CAAC,GACtEc,OAAO,CAACC,GAAG,CAACC,gBAAgB,GAAG3B,OAAO,CAACwB,MAAM,CAACvB,GAAG,CAAC,GAClDD,OAAO,CAACwB,MAAM,CAACvB,GAAG,CAAC;EAEvB,MAAM2B,QAAQ,GAAG5B,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEwB,MAAM,CAACR,GAAG,CAAC,CAACf,GAAG,EAAE4B,KAAK,KAAK;IACnD,MAAMN,SAAS,GAAGtB,GAAG,CAACU,QAAQ,CAAC,yBAAyB,CAAC,GACrDc,OAAO,CAACC,GAAG,CAACC,gBAAgB,GAAG1B,GAAG,GAClCA,GAAG;IACP,oBACE;MAEE,GAAG,EAAEsB,SAAU;MACf,OAAO,EAAElB,kBAAmB;MAC5B,YAAUwB,KAAM;MAChB,GAAG,EAAE7B,OAAO,CAAC8B;IAAK,GAJbD,KAAK;MAAA;MAAA;MAAA;IAAA,QAKV;EAEN,CAAC,CAAC;EACF,oBACE;IAAA,wBACE;MAAK,SAAS,EAAEhC,OAAO,CAAC,kBAAkB,CAAE;MAAA,wBAE1C;QAAK,SAAS,EAAEA,OAAO,CAACkC,KAAM;QAAA,wBAC5B;UAAK,SAAS,EAAElC,OAAO,CAACmC,KAAM;UAAA,uBAC5B;YAAK,SAAS,EAAEnC,OAAO,CAACoC,IAAK;YAAC,GAAG,EAAEV,SAAU;YAAC,GAAG,EAAEvB,OAAO,CAAC8B;UAAK;YAAA;YAAA;YAAA;UAAA;QAAG;UAAA;UAAA;UAAA;QAAA,QAC/D,eACN;UAAK,SAAS,EAAEjC,OAAO,CAACqC,KAAM;UAAA,UAAEN;QAAQ;UAAA;UAAA;UAAA;QAAA,QAAO;MAAA;QAAA;QAAA;QAAA;MAAA,QAC3C,eAEN;QAAK,SAAS,EAAE/B,OAAO,CAACsC,OAAQ;QAAA,wBAC9B;UAAI,SAAS,EAAEtC,OAAO,CAACuC,KAAM;UAAA,UAAEpC,OAAO,CAAC8B;QAAI;UAAA;UAAA;UAAA;QAAA,QAAM,eACjD;UAAK,SAAS,EAAEjC,OAAO,CAACwC,KAAM;UAAA,WAC3B,IAAIC,IAAI,CAACC,YAAY,CAAC,IAAI,CAAC,CAACC,MAAM,CAACxC,OAAO,CAACqC,KAAK,CAAC;QAAA;UAAA;UAAA;UAAA;QAAA,QAC9C,eACN;UAAG,SAAS,EAAExC,OAAO,CAAC4C,IAAK;UAAA,UAAEzC,OAAO,CAAC0C;QAAU;UAAA;UAAA;UAAA;QAAA,QAAK,eACpD;UAAK,SAAS,EAAE7C,OAAO,CAAC8C,QAAS;UAAA,sCACrB;YAAA,UAAO3C,OAAO,CAAC2C;UAAQ;YAAA;YAAA;YAAA;UAAA,QAAQ;QAAA;UAAA;UAAA;UAAA;QAAA,QACrC,eACN;UAAK,SAAS,EAAE9C,OAAO,CAAC,aAAa,CAAE;UAAA,wBACrC;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QAAuB,eACvB,QAAC,oBAAoB;YAAC,GAAG,EAAEM,WAAY;YAAC,QAAQ,EAAE;UAAE;YAAA;YAAA;YAAA;UAAA,QAAG,eACvD;YAAQ,OAAO,EAAEe,gBAAiB;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QAAqB;QAAA;UAAA;UAAA;UAAA;QAAA,QACnD;MAAA;QAAA;QAAA;QAAA;MAAA,QACF;IAAA;MAAA;MAAA;MAAA;IAAA,QACF,eACN;MAAK,SAAS,EAAErB,OAAO,CAAC+C,OAAQ;MAAA,wBAC9B;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAA4B,eAC5B;QAAK,SAAS,EAAE/C,OAAO,CAACgD,WAAY;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAA0B,eAC9D;QAAK,SAAS,EAAEhD,OAAO,CAAC,qBAAqB,CAAE;QAAA,WAC5CgB,WAAW,EACXE,QAAQ;MAAA;QAAA;QAAA;QAAA;MAAA,QACL;IAAA;MAAA;MAAA;MAAA;IAAA,QACF;EAAA,gBACL;AAEP,CAAC;AAAC,GAxFIjB,aAAa;EAAA,QAQAH,WAAW;AAAA;AAAA,KARxBG,aAAa;AA0FnB,eAAeA,aAAa;AAAC;AAAA"},"metadata":{},"sourceType":"module"}