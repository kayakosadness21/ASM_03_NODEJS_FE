{"ast":null,"code":"import { legacy_createStore as createStore, combineReducers, applyMiddleware } from \"redux\";\nimport thunk from \"redux-thunk\";\nimport cartReducer from \"./cart-reducer\";\nimport orderReducer from \"./order-reducer\";\nimport productDetailReducer from \"./product-detail-reducer\";\nimport logInReducer from \"./login-reducer\";\nimport navBarActiveReducer from \"./nav-bar-active-reducer\";\nimport chatReducer from \"./chat-reducer\";\n\n// convert object to string and store in localStorage\nfunction saveToLocalStorage(state) {\n  try {\n    const serialisedState = JSON.stringify(state);\n    localStorage.setItem(\"cartState\", serialisedState);\n  } catch (e) {\n    console.warn(e);\n  }\n}\n// load string from localStarage and convert into an Object\n// invalid output must be undefined\nfunction loadCartFromLocalStorage() {\n  try {\n    const serialisedState = localStorage.getItem(\"cartState\");\n    if (serialisedState === null) return undefined;\n    return JSON.parse(serialisedState);\n  } catch (e) {\n    console.warn(e);\n    return undefined;\n  }\n}\nconst store = createStore(combineReducers({\n  cartReducer,\n  orderReducer,\n  productDetailReducer,\n  logInReducer,\n  navBarActiveReducer,\n  chatReducer\n}), loadCartFromLocalStorage(), applyMiddleware(thunk));\n\n// listen for store change and use saveToLocalStore to save them to localStore\nstore.subscribe(() => saveToLocalStorage(store.getState()));\n// console.log(\"CHECK STORE: \", store.getState());\nexport default store;","map":{"version":3,"names":["legacy_createStore","createStore","combineReducers","applyMiddleware","thunk","cartReducer","orderReducer","productDetailReducer","logInReducer","navBarActiveReducer","chatReducer","saveToLocalStorage","state","serialisedState","JSON","stringify","localStorage","setItem","e","console","warn","loadCartFromLocalStorage","getItem","undefined","parse","store","subscribe","getState"],"sources":["C:/Users/ADMIN/Documents/Project3nodejs20.1.24/frontend/FE-ecommerce/src/store/index.js"],"sourcesContent":["import {\r\n  legacy_createStore as createStore,\r\n  combineReducers,\r\n  applyMiddleware,\r\n} from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport cartReducer from \"./cart-reducer\";\r\nimport orderReducer from \"./order-reducer\";\r\nimport productDetailReducer from \"./product-detail-reducer\";\r\nimport logInReducer from \"./login-reducer\";\r\nimport navBarActiveReducer from \"./nav-bar-active-reducer\";\r\nimport chatReducer from \"./chat-reducer\";\r\n\r\n// convert object to string and store in localStorage\r\nfunction saveToLocalStorage(state) {\r\n  try {\r\n    const serialisedState = JSON.stringify(state);\r\n    localStorage.setItem(\"cartState\", serialisedState);\r\n  } catch (e) {\r\n    console.warn(e);\r\n  }\r\n}\r\n// load string from localStarage and convert into an Object\r\n// invalid output must be undefined\r\nfunction loadCartFromLocalStorage() {\r\n  try {\r\n    const serialisedState = localStorage.getItem(\"cartState\");\r\n    if (serialisedState === null) return undefined;\r\n    return JSON.parse(serialisedState);\r\n  } catch (e) {\r\n    console.warn(e);\r\n    return undefined;\r\n  }\r\n}\r\nconst store = createStore(\r\n  combineReducers({\r\n    cartReducer,\r\n    orderReducer,\r\n    productDetailReducer,\r\n    logInReducer,\r\n    navBarActiveReducer,\r\n    chatReducer,\r\n  }),\r\n  loadCartFromLocalStorage(),\r\n  applyMiddleware(thunk)\r\n);\r\n\r\n// listen for store change and use saveToLocalStore to save them to localStore\r\nstore.subscribe(() => saveToLocalStorage(store.getState()));\r\n// console.log(\"CHECK STORE: \", store.getState());\r\nexport default store;\r\n"],"mappings":"AAAA,SACEA,kBAAkB,IAAIC,WAAW,EACjCC,eAAe,EACfC,eAAe,QACV,OAAO;AACd,OAAOC,KAAK,MAAM,aAAa;AAC/B,OAAOC,WAAW,MAAM,gBAAgB;AACxC,OAAOC,YAAY,MAAM,iBAAiB;AAC1C,OAAOC,oBAAoB,MAAM,0BAA0B;AAC3D,OAAOC,YAAY,MAAM,iBAAiB;AAC1C,OAAOC,mBAAmB,MAAM,0BAA0B;AAC1D,OAAOC,WAAW,MAAM,gBAAgB;;AAExC;AACA,SAASC,kBAAkB,CAACC,KAAK,EAAE;EACjC,IAAI;IACF,MAAMC,eAAe,GAAGC,IAAI,CAACC,SAAS,CAACH,KAAK,CAAC;IAC7CI,YAAY,CAACC,OAAO,CAAC,WAAW,EAAEJ,eAAe,CAAC;EACpD,CAAC,CAAC,OAAOK,CAAC,EAAE;IACVC,OAAO,CAACC,IAAI,CAACF,CAAC,CAAC;EACjB;AACF;AACA;AACA;AACA,SAASG,wBAAwB,GAAG;EAClC,IAAI;IACF,MAAMR,eAAe,GAAGG,YAAY,CAACM,OAAO,CAAC,WAAW,CAAC;IACzD,IAAIT,eAAe,KAAK,IAAI,EAAE,OAAOU,SAAS;IAC9C,OAAOT,IAAI,CAACU,KAAK,CAACX,eAAe,CAAC;EACpC,CAAC,CAAC,OAAOK,CAAC,EAAE;IACVC,OAAO,CAACC,IAAI,CAACF,CAAC,CAAC;IACf,OAAOK,SAAS;EAClB;AACF;AACA,MAAME,KAAK,GAAGxB,WAAW,CACvBC,eAAe,CAAC;EACdG,WAAW;EACXC,YAAY;EACZC,oBAAoB;EACpBC,YAAY;EACZC,mBAAmB;EACnBC;AACF,CAAC,CAAC,EACFW,wBAAwB,EAAE,EAC1BlB,eAAe,CAACC,KAAK,CAAC,CACvB;;AAED;AACAqB,KAAK,CAACC,SAAS,CAAC,MAAMf,kBAAkB,CAACc,KAAK,CAACE,QAAQ,EAAE,CAAC,CAAC;AAC3D;AACA,eAAeF,KAAK"},"metadata":{},"sourceType":"module"}